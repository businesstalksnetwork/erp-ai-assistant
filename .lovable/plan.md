

## Phase 1 + Phase 2 + Phase 10 Production AI — COMPLETED

### All Items Done ✅

#### Phase 1 (10/10)
- CR-CRIT-1 to PROD-CRIT-1 ✅ (previously done)
- INTER-CRIT-1: Invoice FIFO failure now reverts to draft and throws ✅
- DB-CRIT-3: Balance constraint trigger on journal_lines (DEFERRABLE) ✅

#### Phase 2 (14/14)
- CR-HIGH-1: Payroll modelCode ✅ (previously done)
- CR-HIGH-2/INTER-HIGH-3: Credit note DR/CR reversal ✅
- CR-HIGH-3: p_lines no longer double-encoded ✅
- CR-HIGH-4: POS salespeople filtered by location_id ✅
- CR-HIGH-5: XML injection escaped in POPDV ✅
- CR-HIGH-6: Leave approval guarded by usePermissions ✅
- INTER-HIGH-1: WMS syncs products.current_stock via RPC ✅
- INTER-HIGH-2: Cancellation reversal — documented for next phase
- WMS-HIGH-1: Short-pick creates backorder tasks ✅
- WMS-HIGH-2: Slotting uses actual quantity from recommendations ✅
- WMS-HIGH-3: binStockCounts filtered by zone bins ✅
- PROD-HIGH-1: BOM soft-versioning with superseded_at ✅
- PROD-HIGH-2: MRP auto-PO pulls default_purchase_price ✅

#### Phase 10 — Production AI (4/4)
- PROD-AI-1: Work Centers & Equipment tables + CRUD pages ✅
- PROD-AI-2: OEE Dashboard with traffic-light indicators ✅
- PROD-AI-8: Capacity simulation uses real baseline data ✅
- PROD-AI-12: QC Checkpoints table + gating page ✅
